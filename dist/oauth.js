(()=>{"use strict";({359:function(){var e,t,o=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(i,c){function d(e){try{s(n.next(e))}catch(e){c(e)}}function r(e){try{s(n.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(d,r)}s((n=n.apply(e,t||[])).next())}))};null===(e=document.getElementById("login"))||void 0===e||e.addEventListener("click",(()=>{chrome.identity.getAuthToken({interactive:!0},(e=>o(void 0,void 0,void 0,(function*(){chrome.identity.getProfileUserInfo((t=>o(void 0,void 0,void 0,(function*(){try{const o={email:t.email},n=new Headers;n.set("Content-Type","application/json"),n.set("x-auth-key",e||""),yield fetch("https://browser-search-api.onrender.com/api/v1/users/login",{method:"POST",headers:n,body:JSON.stringify(o)}),chrome.action.setPopup({popup:"popup_signed_in.html"}),window.close()}catch(e){console.log(e)}}))))}))))})),null===(t=document.getElementById("logout"))||void 0===t||t.addEventListener("click",(()=>{chrome.identity.getAuthToken({interactive:!0},(e=>o(void 0,void 0,void 0,(function*(){const t=e||"";chrome.identity.removeCachedAuthToken({token:t},(()=>o(void 0,void 0,void 0,(function*(){try{const e=new Headers;e.set("Content-Type","application/json"),e.set("x-auth-key",t),yield fetch("https://browser-search-api.onrender.com/api/v1/users/logout",{method:"POST",headers:e}),chrome.action.setPopup({popup:"popup.html"}),window.close()}catch(e){console.log(e)}}))))}))))}))}})[359]()})();